package com.snapcardster.omnimtg

import org.scalatest._

class XmlSpec extends FlatSpec with Matchers {
  "XML" should "work" in {
    val controller = new MainController

    val lst = List(
      SellerDataChanged("", Some(349230858), Some(1), None),
      SellerDataChanged("", Some(350953977), Some(2), None)
    )

    var xml ="""<?xml version="1.0" encoding="utf-8"?><response>  <deleted>    <idArticle>349230858</idArticle>    <count>1</count>    <success>false</success>    <message>Invalid Article</message>  </deleted>  <deleted>    <idArticle>349230953</idArticle>    <count>1</count>    <success>false</success>    <message>Invalid Article</message>  </deleted>  <deleted>    <idArticle>349230946</idArticle>    <count>1</count>    <success>false</success>    <message>Invalid Article</message>  </deleted>  <deleted>    <idArticle>349230923</idArticle>    <count>1</count>    <success>false</success>    <message>Invalid Article</message>  </deleted>  <deleted>    <idArticle>349228611</idArticle>    <count>1</count>    <success>false</success>    <message>Invalid Article</message>  </deleted>  <deleted>    <idArticle>349231088</idArticle>    <count>1</count>    <success>false</success>    <message>Invalid Article</message>  </deleted>  <deleted>    <idArticle>349230284</idArticle>    <count>1</count>    <success>false</success>    <message>Invalid Article</message>  </deleted>  <deleted>    <idArticle>350879492</idArticle>    <count>1</count>    <success>false</success>    <message>Invalid Article</message>  </deleted>  <deleted>    <idArticle>350877256</idArticle>    <count>1</count>    <success>true</success>    <message>Invalid Article</message>  </deleted>  <deleted>    <idArticle>350877063</idArticle>    <count>1</count>    <success>false</success>    <message>Invalid Article</message>  </deleted>  <deleted>    <idArticle>350877153</idArticle>    <count>1</count>    <success>true</success>    <message>Invalid Article</message>  </deleted></response>"""
    var json = controller.getConfirmation(xml, "deleted", lst, false)
    json shouldEqual """[{"collectionId":1,"info":"Invalid Article","successful":false}, {"collectionId":349230953,"info":"Invalid Article","successful":false}, {"collectionId":349230946,"info":"Invalid Article","successful":false}, {"collectionId":349230923,"info":"Invalid Article","successful":false}, {"collectionId":349228611,"info":"Invalid Article","successful":false}, {"collectionId":349231088,"info":"Invalid Article","successful":false}, {"collectionId":349230284,"info":"Invalid Article","successful":false}, {"collectionId":350879492,"info":"Invalid Article","successful":false}, {"collectionId":350877256,"info":"Invalid Article","successful":true}, {"collectionId":350877063,"info":"Invalid Article","successful":false}, {"collectionId":350877153,"info":"Invalid Article","successful":true}]"""

    xml ="""<?xml version="1.0" encoding="utf-8"?><response>  <inserted>    <success>true</success>    <idArticle>      <idArticle>350953977</idArticle>      <idProduct>296647</idProduct>      <language>        <idLanguage>1</idLanguage>        <languageName>English</languageName>      </language>      <comments></comments>      <price>333</price>      <count>1</count>      <inShoppingCart>false</inShoppingCart>      <product>        <idGame>1</idGame>        <enName>Plains (Version 2)</enName>        <locName>Plains (Version 2)</locName>        <image>./img/cards/Amonkhet/plains2.jpg</image>        <expansion>Amonkhet</expansion>        <nr>255</nr>        <expIcon>396</expIcon>        <rarity>Land</rarity>      </product>      <lastEdited>2018-06-11T18:37:46+0200</lastEdited>      <condition>NM</condition>      <isFoil>false</isFoil>      <isSigned>false</isSigned>      <isPlayset>false</isPlayset>      <isAltered>false</isAltered>    </idArticle>  </inserted>  <inserted>    <success>true</success>    <idArticle>      <idArticle>350953978</idArticle>      <idProduct>297171</idProduct>      <language>        <idLanguage>1</idLanguage>        <languageName>English</languageName>      </language>      <comments></comments>      <price>333</price>      <count>1</count>      <inShoppingCart>false</inShoppingCart>      <product>        <idGame>1</idGame>        <enName>Miasmic Mummy</enName>        <locName>Miasmic Mummy</locName>        <image>./img/cards/Amonkhet/miasmic_mummy.jpg</image>        <expansion>Amonkhet</expansion>        <nr>100</nr>        <expIcon>396</expIcon>        <rarity>Common</rarity>      </product>      <lastEdited>2018-06-11T18:37:46+0200</lastEdited>      <condition>NM</condition>      <isFoil>false</isFoil>      <isSigned>false</isSigned>      <isPlayset>false</isPlayset>      <isAltered>false</isAltered>    </idArticle>  </inserted>  <inserted>    <success>true</success>    <idArticle>      <idArticle>350953979</idArticle>      <idProduct>294866</idProduct>      <language>        <idLanguage>1</idLanguage>        <languageName>English</languageName>      </language>      <comments></comments>      <price>333</price>      <count>1</count>      <inShoppingCart>false</inShoppingCart>      <product>        <idGame>1</idGame>        <enName>Salvage Scuttler</enName>        <locName>Salvage Scuttler</locName>        <image>./img/cards/Aether_Revolt/salvage_scuttler.jpg</image>        <expansion>Aether Revolt</expansion>        <nr>43</nr>        <expIcon>390</expIcon>        <rarity>Uncommon</rarity>      </product>      <lastEdited>2018-06-11T18:37:46+0200</lastEdited>      <condition>NM</condition>      <isFoil>false</isFoil>      <isSigned>false</isSigned>      <isPlayset>false</isPlayset>      <isAltered>false</isAltered>    </idArticle>  </inserted>  <inserted>    <success>true</success>    <idArticle>      <idArticle>350953980</idArticle>      <idProduct>294770</idProduct>      <language>        <idLanguage>1</idLanguage>        <languageName>English</languageName>      </language>      <comments></comments>      <price>333</price>      <count>1</count>      <inShoppingCart>false</inShoppingCart>      <product>        <idGame>1</idGame>        <enName>Freejam Regent</enName>        <locName>Freejam Regent</locName>        <image>./img/cards/Aether_Revolt/freejam_regent.jpg</image>        <expansion>Aether Revolt</expansion>        <nr>81</nr>        <expIcon>390</expIcon>        <rarity>Rare</rarity>      </product>      <lastEdited>2018-06-11T18:37:46+0200</lastEdited>      <condition>NM</condition>      <isFoil>false</isFoil>      <isSigned>false</isSigned>      <isPlayset>false</isPlayset>      <isAltered>false</isAltered>    </idArticle>  </inserted>  <inserted>    <success>true</success>    <idArticle>      <idArticle>350953981</idArticle>      <idProduct>294809</idProduct>      <language>        <idLanguage>1</idLanguage>        <languageName>English</languageName>      </language>      <comments></comments>      <price>333</price>      <count>1</count>      <inShoppingCart>false</inShoppingCart>      <product>        <idGame>1</idGame>        <enName>Hidden Herbalists</enName>        <locName>Hidden Herbalists</locName>        <image>./img/cards/Aether_Revolt/hidden_herbalists.jpg</image>        <expansion>Aether Revolt</expansion>        <nr>110</nr>        <expIcon>390</expIcon>        <rarity>Uncommon</rarity>      </product>      <lastEdited>2018-06-11T18:37:46+0200</lastEdited>      <condition>NM</condition>      <isFoil>false</isFoil>      <isSigned>false</isSigned>      <isPlayset>false</isPlayset>      <isAltered>false</isAltered>    </idArticle>  </inserted>  <inserted>    <success>true</success>    <idArticle>      <idArticle>350953982</idArticle>      <idProduct>294890</idProduct>      <language>        <idLanguage>1</idLanguage>        <languageName>English</languageName>      </language>      <comments></comments>      <price>333</price>      <count>1</count>      <inShoppingCart>false</inShoppingCart>      <product>        <idGame>1</idGame>        <enName>Frontline Rebel</enName>        <locName>Frontline Rebel</locName>        <image>./img/cards/Aether_Revolt/frontline_rebel.jpg</image>        <expansion>Aether Revolt</expansion>        <nr>82</nr>        <expIcon>390</expIcon>        <rarity>Common</rarity>      </product>      <lastEdited>2018-06-11T18:37:46+0200</lastEdited>      <condition>NM</condition>      <isFoil>false</isFoil>      <isSigned>false</isSigned>      <isPlayset>false</isPlayset>      <isAltered>false</isAltered>    </idArticle>  </inserted>  <inserted>    <success>true</success>    <idArticle>      <idArticle>350953983</idArticle>      <idProduct>294763</idProduct>      <language>        <idLanguage>1</idLanguage>        <languageName>English</languageName>      </language>      <comments></comments>      <price>333</price>      <count>1</count>      <inShoppingCart>false</inShoppingCart>      <product>        <idGame>1</idGame>        <enName>Sram, Senior Edificer</enName>        <locName>Sram, Senior Edificer</locName>        <image>./img/cards/Aether_Revolt/sram_senior_edificer.jpg</image>        <expansion>Aether Revolt</expansion>        <nr>23</nr>        <expIcon>390</expIcon>        <rarity>Rare</rarity>      </product>      <lastEdited>2018-06-11T18:37:46+0200</lastEdited>      <condition>NM</condition>      <isFoil>false</isFoil>      <isSigned>false</isSigned>      <isPlayset>false</isPlayset>      <isAltered>false</isAltered>    </idArticle>  </inserted>  <inserted>    <success>true</success>    <idArticle>      <idArticle>350953984</idArticle>      <idProduct>294774</idProduct>      <language>        <idLanguage>1</idLanguage>        <languageName>English</languageName>      </language>      <comments></comments>      <price>133</price>      <count>1</count>      <inShoppingCart>false</inShoppingCart>      <product>        <idGame>1</idGame>        <enName>Aetherwind Basker</enName>        <locName>Aetherwind Basker</locName>        <image>./img/cards/Aether_Revolt/aetherwind_basker.jpg</image>        <expansion>Aether Revolt</expansion>        <nr>104</nr>        <expIcon>390</expIcon>        <rarity>Mythic</rarity>      </product>      <lastEdited>2018-06-11T18:37:46+0200</lastEdited>      <condition>NM</condition>      <isFoil>false</isFoil>      <isSigned>false</isSigned>      <isPlayset>false</isPlayset>      <isAltered>false</isAltered>    </idArticle>  </inserted>  <inserted>    <success>true</success>    <idArticle>      <idArticle>350953985</idArticle>      <idProduct>264800</idProduct>      <language>        <idLanguage>1</idLanguage>        <languageName>English</languageName>      </language>      <comments></comments>      <price>333</price>      <count>1</count>      <inShoppingCart>false</inShoppingCart>      <product>        <idGame>1</idGame>        <enName>Dungeon Geists</enName>        <locName>Dungeon Geists</locName>        <image>./img/cards/Commander_2013/dungeon_geists.jpg</image>        <expansion>Commander 2013</expansion>        <nr>42</nr>        <expIcon>226</expIcon>        <rarity>Rare</rarity>      </product>      <lastEdited>2018-06-11T18:37:46+0200</lastEdited>      <condition>NM</condition>      <isFoil>false</isFoil>      <isSigned>false</isSigned>      <isPlayset>false</isPlayset>      <isAltered>false</isAltered>    </idArticle>  </inserted>  <inserted>    <success>true</success>    <idArticle>      <idArticle>350953986</idArticle>      <idProduct>294780</idProduct>      <language>        <idLanguage>1</idLanguage>        <languageName>English</languageName>      </language>      <comments></comments>      <price>333</price>      <count>1</count>      <inShoppingCart>false</inShoppingCart>      <product>        <idGame>1</idGame>        <enName>Renegade Map</enName>        <locName>Renegade Map</locName>        <image>./img/cards/Aether_Revolt/renegade_map.jpg</image>        <expansion>Aether Revolt</expansion>        <nr>173</nr>        <expIcon>390</expIcon>        <rarity>Common</rarity>      </product>      <lastEdited>2018-06-11T18:37:46+0200</lastEdited>      <condition>NM</condition>      <isFoil>false</isFoil>      <isSigned>false</isSigned>      <isPlayset>false</isPlayset>      <isAltered>false</isAltered>    </idArticle>  </inserted>  <inserted>    <success>true</success>    <idArticle>      <idArticle>350953987</idArticle>      <idProduct>296694</idProduct>      <language>        <idLanguage>1</idLanguage>        <languageName>English</languageName>      </language>      <comments></comments>      <price>333</price>      <count>1</count>      <inShoppingCart>false</inShoppingCart>      <product>        <idGame>1</idGame>        <enName>Hazoret the Fervent</enName>        <locName>Hazoret the Fervent</locName>        <image>./img/cards/Amonkhet/hazoret_the_fervent.jpg</image>        <expansion>Amonkhet</expansion>        <nr>136</nr>        <expIcon>396</expIcon>        <rarity>Mythic</rarity>      </product>      <lastEdited>2018-06-11T18:37:46+0200</lastEdited>      <condition>NM</condition>      <isFoil>false</isFoil>      <isSigned>false</isSigned>      <isPlayset>false</isPlayset>      <isAltered>false</isAltered>    </idArticle>  </inserted>  <inserted>    <success>true</success>    <idArticle>      <idArticle>350953988</idArticle>      <idProduct>296678</idProduct>      <language>        <idLanguage>1</idLanguage>        <languageName>English</languageName>      </language>      <comments></comments>      <price>333</price>      <count>1</count>      <inShoppingCart>false</inShoppingCart>      <product>        <idGame>1</idGame>        <enName>Sheltered Thicket</enName>        <locName>Sheltered Thicket</locName>        <image>./img/cards/Amonkhet/sheltered_thicket.jpg</image>        <expansion>Amonkhet</expansion>        <nr>248</nr>        <expIcon>396</expIcon>        <rarity>Rare</rarity>      </product>      <lastEdited>2018-06-11T18:37:46+0200</lastEdited>      <condition>NM</condition>      <isFoil>false</isFoil>      <isSigned>false</isSigned>      <isPlayset>false</isPlayset>      <isAltered>false</isAltered>    </idArticle>  </inserted>  <inserted>    <success>true</success>    <idArticle>      <idArticle>350953989</idArticle>      <idProduct>297199</idProduct>      <language>        <idLanguage>1</idLanguage>        <languageName>English</languageName>      </language>      <comments></comments>      <price>333</price>      <count>1</count>      <inShoppingCart>false</inShoppingCart>      <product>        <idGame>1</idGame>        <enName>Bitterblade Warrior</enName>        <locName>Bitterblade Warrior</locName>        <image>./img/cards/Amonkhet/bitterblade_warrior.jpg</image>        <expansion>Amonkhet</expansion>        <nr>157</nr>        <expIcon>396</expIcon>        <rarity>Common</rarity>      </product>      <lastEdited>2018-06-11T18:37:46+0200</lastEdited>      <condition>NM</condition>      <isFoil>false</isFoil>      <isSigned>false</isSigned>      <isPlayset>false</isPlayset>      <isAltered>false</isAltered>    </idArticle>  </inserted>  <inserted>    <success>true</success>    <idArticle>      <idArticle>350953990</idArticle>      <idProduct>294847</idProduct>      <language>        <idLanguage>1</idLanguage>        <languageName>English</languageName>      </language>      <comments></comments>      <price>333</price>      <count>1</count>      <inShoppingCart>false</inShoppingCart>      <product>        <idGame>1</idGame>        <enName>Alley Evasion</enName>        <locName>Alley Evasion</locName>        <image>./img/cards/Aether_Revolt/alley_evasion.jpg</image>        <expansion>Aether Revolt</expansion>        <nr>6</nr>        <expIcon>390</expIcon>        <rarity>Common</rarity>      </product>      <lastEdited>2018-06-11T18:37:46+0200</lastEdited>      <condition>NM</condition>      <isFoil>false</isFoil>      <isSigned>false</isSigned>      <isPlayset>false</isPlayset>      <isAltered>false</isAltered>    </idArticle>  </inserted>  <inserted>    <success>true</success>    <idArticle>      <idArticle>350953991</idArticle>      <idProduct>294826</idProduct>      <language>        <idLanguage>1</idLanguage>        <languageName>English</languageName>      </language>      <comments></comments>      <price>333</price>      <count>1</count>      <inShoppingCart>false</inShoppingCart>      <product>        <idGame>1</idGame>        <enName>Hidden Stockpile</enName>        <locName>Hidden Stockpile</locName>        <image>./img/cards/Aether_Revolt/hidden_stockpile.jpg</image>        <expansion>Aether Revolt</expansion>        <nr>129</nr>        <expIcon>390</expIcon>        <rarity>Uncommon</rarity>      </product>      <lastEdited>2018-06-11T18:37:46+0200</lastEdited>      <condition>NM</condition>      <isFoil>false</isFoil>      <isSigned>false</isSigned>      <isPlayset>false</isPlayset>      <isAltered>false</isAltered>    </idArticle>  </inserted>  <inserted>    <success>true</success>    <idArticle>      <idArticle>350953992</idArticle>      <idProduct>296724</idProduct>      <language>        <idLanguage>1</idLanguage>        <languageName>English</languageName>      </language>      <comments></comments>      <price>333</price>      <count>1</count>      <inShoppingCart>false</inShoppingCart>      <product>        <idGame>1</idGame>        <enName>Kefnet the Mindful</enName>        <locName>Kefnet the Mindful</locName>        <image>./img/cards/Amonkhet/kefnet_the_mindful.jpg</image>        <expansion>Amonkhet</expansion>        <nr>59</nr>        <expIcon>396</expIcon>        <rarity>Mythic</rarity>      </product>      <lastEdited>2018-06-11T18:37:46+0200</lastEdited>      <condition>NM</condition>      <isFoil>false</isFoil>      <isSigned>false</isSigned>      <isPlayset>false</isPlayset>      <isAltered>false</isAltered>    </idArticle>  </inserted>  <inserted>    <success>true</success>    <idArticle>      <idArticle>350877106</idArticle>      <idProduct>246740</idProduct>      <language>        <idLanguage>1</idLanguage>        <languageName>English</languageName>      </language>      <comments>see more cards at</comments>      <price>2.56</price>      <count>2</count>      <inShoppingCart>false</inShoppingCart>      <product>        <idGame>1</idGame>        <enName>Collective Voyage</enName>        <locName>Collective Voyage</locName>        <image>./img/cards/Commander/collective_voyage.jpg</image>        <expansion>Commander</expansion>        <nr>147</nr>        <expIcon>188</expIcon>        <rarity>Rare</rarity>      </product>      <lastEdited>2018-06-11T11:44:14+0200</lastEdited>      <condition>NM</condition>      <isFoil>false</isFoil>      <isSigned>false</isSigned>      <isPlayset>false</isPlayset>      <isAltered>false</isAltered>    </idArticle>  </inserted>  <inserted>    <success>true</success>    <idArticle>      <idArticle>350877054</idArticle>      <idProduct>246745</idProduct>      <language>        <idLanguage>1</idLanguage>        <languageName>English</languageName>      </language>      <comments>see more cards at</comments>      <price>0.55</price>      <count>2</count>      <inShoppingCart>false</inShoppingCart>      <product>        <idGame>1</idGame>        <enName>Acorn Catapult</enName>        <locName>Acorn Catapult</locName>        <image>./img/cards/Commander/acorn_catapult.jpg</image>        <expansion>Commander</expansion>        <nr>241</nr>        <expIcon>188</expIcon>        <rarity>Rare</rarity>      </product>      <lastEdited>2018-06-11T11:44:13+0200</lastEdited>      <condition>NM</condition>      <isFoil>false</isFoil>      <isSigned>false</isSigned>      <isPlayset>false</isPlayset>      <isAltered>false</isAltered>    </idArticle>  </inserted>  <inserted>    <success>true</success>    <idArticle>      <idArticle>350953993</idArticle>      <idProduct>246728</idProduct>      <language>        <idLanguage>1</idLanguage>        <languageName>English</languageName>      </language>      <comments>see more cards at</comments>      <price>11.68</price>      <count>1</count>      <inShoppingCart>false</inShoppingCart>      <product>        <idGame>1</idGame>        <enName>Animar, Soul of Elements (Version 1)</enName>        <locName>Animar, Soul of Elements (Version 1)</locName>        <image>./img/cards/Commander/animar_soul_of_elements1.jpg</image>        <expansion>Commander</expansion>        <nr>181</nr>        <expIcon>188</expIcon>        <rarity>Mythic</rarity>      </product>      <lastEdited>2018-06-11T18:37:46+0200</lastEdited>      <condition>NM</condition>      <isFoil>false</isFoil>      <isSigned>false</isSigned>      <isPlayset>false</isPlayset>      <isAltered>false</isAltered>    </idArticle>  </inserted>  <inserted>    <success>true</success>    <idArticle>      <idArticle>350953994</idArticle>      <idProduct>247310</idProduct>      <language>        <idLanguage>1</idLanguage>        <languageName>English</languageName>      </language>      <comments>see more cards at</comments>      <price>0.29</price>      <count>1</count>      <inShoppingCart>false</inShoppingCart>      <product>        <idGame>1</idGame>        <enName>Prophetic Bolt</enName>        <locName>Prophetic Bolt</locName>        <image>./img/cards/Commander/prophetic_bolt.jpg</image>        <expansion>Commander</expansion>        <nr>219</nr>        <expIcon>188</expIcon>        <rarity>Rare</rarity>      </product>      <lastEdited>2018-06-11T18:37:46+0200</lastEdited>      <condition>NM</condition>      <isFoil>false</isFoil>      <isSigned>false</isSigned>      <isPlayset>false</isPlayset>      <isAltered>false</isAltered>    </idArticle>  </inserted>  <inserted>    <success>true</success>    <idArticle>      <idArticle>350877318</idArticle>      <idProduct>247344</idProduct>      <language>        <idLanguage>1</idLanguage>        <languageName>English</languageName>      </language>      <comments>see more cards at</comments>      <price>1.46</price>      <count>2</count>      <inShoppingCart>false</inShoppingCart>      <product>        <idGame>1</idGame>        <enName>Skullclamp</enName>        <locName>Skullclamp</locName>        <image>./img/cards/Commander/skullclamp.jpg</image>        <expansion>Commander</expansion>        <nr>260</nr>        <expIcon>188</expIcon>        <rarity>Uncommon</rarity>      </product>      <lastEdited>2018-06-11T11:44:17+0200</lastEdited>      <condition>NM</condition>      <isFoil>false</isFoil>      <isSigned>false</isSigned>      <isPlayset>false</isPlayset>      <isAltered>false</isAltered>    </idArticle>  </inserted>  <inserted>    <success>true</success>    <idArticle>      <idArticle>350953996</idArticle>      <idProduct>246728</idProduct>      <language>        <idLanguage>1</idLanguage>        <languageName>English</languageName>      </language>      <comments></comments>      <price>11.68</price>      <count>1</count>      <inShoppingCart>false</inShoppingCart>      <product>        <idGame>1</idGame>        <enName>Animar, Soul of Elements (Version 1)</enName>        <locName>Animar, Soul of Elements (Version 1)</locName>        <image>./img/cards/Commander/animar_soul_of_elements1.jpg</image>        <expansion>Commander</expansion>        <nr>181</nr>        <expIcon>188</expIcon>        <rarity>Mythic</rarity>      </product>      <lastEdited>2018-06-11T18:37:46+0200</lastEdited>      <condition>NM</condition>      <isFoil>false</isFoil>      <isSigned>false</isSigned>      <isPlayset>false</isPlayset>      <isAltered>false</isAltered>    </idArticle>  </inserted>  <inserted>    <success>true</success>    <idArticle>      <idArticle>350877122</idArticle>      <idProduct>247199</idProduct>      <language>        <idLanguage>1</idLanguage>        <languageName>English</languageName>      </language>      <comments>see more cards at</comments>      <price>0.19</price>      <count>3</count>      <inShoppingCart>false</inShoppingCart>      <product>        <idGame>1</idGame>        <enName>Death Mutation</enName>        <locName>Death Mutation</locName>        <image>./img/cards/Commander/death_mutation.jpg</image>        <expansion>Commander</expansion>        <nr>192</nr>        <expIcon>188</expIcon>        <rarity>Uncommon</rarity>      </product>      <lastEdited>2018-06-11T11:44:14+0200</lastEdited>      <condition>NM</condition>      <isFoil>false</isFoil>      <isSigned>false</isSigned>      <isPlayset>false</isPlayset>      <isAltered>false</isAltered>    </idArticle>  </inserted>  <inserted>    <success>true</success>    <idArticle>      <idArticle>350877058</idArticle>      <idProduct>247151</idProduct>      <language>        <idLanguage>1</idLanguage>        <languageName>English</languageName>      </language>      <comments>see more cards at</comments>      <price>0.82</price>      <count>3</count>      <inShoppingCart>false</inShoppingCart>      <product>        <idGame>1</idGame>        <enName>Akroma's Vengeance</enName>        <locName>Akroma's Vengeance</locName>        <image>./img/cards/Commander/akromas_vengeance.jpg</image>        <expansion>Commander</expansion>        <nr>3</nr>        <expIcon>188</expIcon>        <rarity>Rare</rarity>      </product>      <lastEdited>2018-06-11T11:44:13+0200</lastEdited>      <condition>NM</condition>      <isFoil>false</isFoil>      <isSigned>false</isSigned>      <isPlayset>false</isPlayset>      <isAltered>false</isAltered>    </idArticle>  </inserted></response>"""
    json = controller.getConfirmation(xml, "inserted", lst, false)
    json shouldEqual """[{"collectionId":2,"successful":true}, {"collectionId":350953978,"successful":true}, {"collectionId":350953979,"successful":true}, {"collectionId":350953980,"successful":true}, {"collectionId":350953981,"successful":true}, {"collectionId":350953982,"successful":true}, {"collectionId":350953983,"successful":true}, {"collectionId":350953984,"successful":true}, {"collectionId":350953985,"successful":true}, {"collectionId":350953986,"successful":true}, {"collectionId":350953987,"successful":true}, {"collectionId":350953988,"successful":true}, {"collectionId":350953989,"successful":true}, {"collectionId":350953990,"successful":true}, {"collectionId":350953991,"successful":true}, {"collectionId":350953992,"successful":true}, {"collectionId":350877106,"successful":true}, {"collectionId":350877054,"successful":true}, {"collectionId":350953993,"successful":true}, {"collectionId":350953994,"successful":true}, {"collectionId":350877318,"successful":true}, {"collectionId":350953996,"successful":true}, {"collectionId":350877122,"successful":true}, {"collectionId":350877058,"successful":true}]"""
  }
}
